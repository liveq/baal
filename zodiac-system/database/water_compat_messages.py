import sqlite3

# 물의 원소 별자리 궁합 메시지 작성
def update_compatibility_messages():
    conn = sqlite3.connect('zodiac_fortunes.db')
    cursor = conn.cursor()
    
    # 궁합 메시지들
    compatibility_messages = {
        # 게자리(4) 관련 조합들
        (4, 6): "게자리와 처녀자리는 세심함이 만나는 완벽한 케어 팀입니다. 게자리가 '괜찮아?' 하며 따뜻하게 걱정해주면 처녀자리가 '이렇게 하면 더 좋아질 거야' 하며 구체적인 해결책을 제시해줍니다. 둘이 함께 있으면 감정적 안정감과 실용적 도움을 동시에 받을 수 있는 힐링 조합이에요.",
        
        (4, 7): "게자리와 천칭자리는 감성과 센스가 만나는 우아한 조합입니다. 게자리가 만든 수제 요리를 천칭자리가 예쁜 그릇에 담아 인스타에 올리면 완벽한 한 컷이 완성되죠. 게자리의 따뜻함과 천칭자리의 세련됨이 어우러져 모든 모임의 분위기 메이커가 됩니다.",
        
        (4, 8): "같은 물의 원소인 게자리와 전갈자리는 말하지 않아도 통하는 깊은 공감대를 가집니다. 게자리가 '힘들어 보이는데...' 하며 다가가면 평소 마음을 잘 열지 않던 전갈자리도 자연스럽게 속마음을 털어놓게 됩니다. 서로의 감정을 깊이 이해하는 진짜 우정을 만들어가는 조합이에요.",
        
        (4, 9): "게자리와 사수자리는 홈과 어웨이의 완벽한 밸런스를 이루는 조합입니다. 사수자리가 '이번 주말에 어디 갈까?' 하며 모험을 제안하면, 게자리가 '짐은 내가 싸줄게, 간식도 준비할게' 하며 든든한 서포터 역할을 해줍니다. 함께 있으면 안전하면서도 재미있는 추억을 만들어갑니다.",
        
        (4, 10): "게자리와 염소자리는 전통과 책임감을 소중히 여기는 믿음직한 조합입니다. 게자리가 가족 같은 따뜻함으로 분위기를 만들면, 염소자리가 체계적으로 계획을 세워 모든 일을 완벽하게 해냅니다. 둘이 함께하면 어떤 프로젝트든 성공적으로 마무리할 수 있는 든든한 파트너십을 만들어요.",
        
        (4, 11): "게자리와 물병자리는 케어와 독립성이 조화를 이루는 특별한 조합입니다. 게자리가 '밥은 먹었어?' 하며 챙겨주면, 물병자리가 '너도 너만의 시간을 가져야 해' 하며 서로의 공간을 존중해줍니다. 적절한 거리를 유지하면서도 따뜻한 관심을 나누는 성숙한 관계를 만들어갑니다.",
        
        (4, 12): "같은 물의 원소인 게자리와 물고기자리는 감성 충만한 힐링 조합입니다. 게자리가 따뜻한 차 한 잔을 건네면, 물고기자리가 '이 맛이 엄마 생각이 나네' 하며 추억을 나누죠. 둘이 함께 있으면 마음의 위로와 공감을 얻을 수 있어서, 힘든 일이 있을 때 서로에게 찾아가고 싶은 관계가 됩니다.",
        
        # 전갈자리(8) 관련 조합들
        (8, 9): "전갈자리와 사수자리는 깊이와 자유로움이 만나는 역동적인 조합입니다. 전갈자리의 깊은 통찰력과 사수자리의 넓은 시야가 만나면 세상을 바라보는 새로운 관점이 생겨납니다. 전갈자리가 '이건 좀 이상한데?' 하며 의문을 제기하면, 사수자리가 '그럼 다른 방법을 시도해보자!' 하며 돌파구를 찾아주는 문제해결 듀오입니다.",
        
        (8, 10): "전갈자리와 염소자리는 집중력과 인내력이 만나는 강력한 성공 조합입니다. 전갈자리의 깊이 있는 분석력과 염소자리의 체계적인 실행력이 합쳐지면 어떤 목표든 달성할 수 있습니다. 둘이 함께 일하면 '이거 진짜 해낼 수 있을까?' 했던 일도 차근차근 단계별로 완성해내는 최강 팀워크를 보여줍니다.",
        
        (8, 11): "전갈자리와 물병자리는 깊이와 독창성이 만나는 혁신적인 조합입니다. 전갈자리가 사람들의 숨겨진 심리를 파악하면, 물병자리가 그것을 바탕으로 전혀 새로운 아이디어를 제시합니다. 서로 다른 접근법을 가지고 있지만 본질을 추구한다는 공통점으로 인해 깊이 있는 대화와 창의적인 결과물을 만들어내는 조합이에요.",
        
        (8, 12): "같은 물의 원소인 전갈자리와 물고기자리는 감정의 깊이를 이해하는 소울메이트 조합입니다. 전갈자리의 강렬함과 물고기자리의 부드러움이 만나면 서로의 상처까지도 치유해주는 특별한 케미가 생깁니다. 말없이도 서로의 기분을 알아차리고, '너도 그런 기분이구나' 하며 깊은 공감대를 형성하는 영혼의 친구가 됩니다."
    }
    
    # 메시지 업데이트
    for combo, message in compatibility_messages.items():
        zodiac1_id, zodiac2_id = combo
        cursor.execute("""
            UPDATE compatibility_fortunes_data 
            SET description = ? 
            WHERE zodiac1_id = ? AND zodiac2_id = ?
        """, (message, zodiac1_id, zodiac2_id))
        print(f"Updated {zodiac1_id}-{zodiac2_id}: {message[:50]}...")
    
    conn.commit()
    
    # 업데이트 확인
    cursor.execute("""
        SELECT zodiac1_id, zodiac2_id, description 
        FROM compatibility_fortunes_data 
        WHERE (zodiac1_id = 4 AND zodiac2_id IN (6,7,8,9,10,11,12)) 
           OR (zodiac1_id = 8 AND zodiac2_id IN (9,10,11,12))
    """)
    results = cursor.fetchall()
    
    print(f"\n업데이트 완료: {len(results)}개 조합")
    for r in results:
        print(f"{r[0]}-{r[1]}: {r[2][:30]}...")
    
    conn.close()
    print("모든 물의 원소 별자리 궁합 메시지 업데이트 완료!")

if __name__ == "__main__":
    update_compatibility_messages()